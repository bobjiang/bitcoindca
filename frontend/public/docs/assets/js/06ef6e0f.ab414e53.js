"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[845],{755:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"developer/sdk-and-tools","title":"SDKs & Tooling","description":"Explore the developer tooling ecosystem around BitcoinDCA, including TypeScript SDK patterns, Hardhat helpers, and CLI utilities.","source":"@site/docs/developer/sdk-and-tools.md","sourceDirName":"developer","slug":"/developer/sdk-and-tools","permalink":"/docs/developer/sdk-and-tools","draft":false,"unlisted":false,"editUrl":"https://github.com/bobjiang/bitcoindca/tree/main/docs/docs/developer/sdk-and-tools.md","tags":[],"version":"current","frontMatter":{"title":"SDKs & Tooling","sidebar_label":"SDKs & Tools","description":"Explore the developer tooling ecosystem around BitcoinDCA, including TypeScript SDK patterns, Hardhat helpers, and CLI utilities."},"sidebar":"primarySidebar","previous":{"title":"Integration Guide","permalink":"/docs/developer/integration-guide"},"next":{"title":"Testing","permalink":"/docs/developer/testing"}}');var s=n(7711),o=n(6879);const r={title:"SDKs & Tooling",sidebar_label:"SDKs & Tools",description:"Explore the developer tooling ecosystem around BitcoinDCA, including TypeScript SDK patterns, Hardhat helpers, and CLI utilities."},c="SDKs & Tooling",l={},d=[{value:"TypeScript / JavaScript",id:"typescript--javascript",level:2},{value:"Example: Estimating the next execution timestamp",id:"example-estimating-the-next-execution-timestamp",level:3},{value:"Solidity utilities",id:"solidity-utilities",level:2},{value:"Hardhat tasks",id:"hardhat-tasks",level:2},{value:"Recommended third-party tooling",id:"recommended-third-party-tooling",level:2},{value:"Docs CLI",id:"docs-cli",level:2}];function a(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"sdks--tooling",children:"SDKs & Tooling"})}),"\n",(0,s.jsx)(t.p,{children:"BitcoinDCA does not ship a dedicated SDK package yet, but the repository exposes reusable utilities across the monorepo."}),"\n",(0,s.jsx)(t.h2,{id:"typescript--javascript",children:"TypeScript / JavaScript"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"TypeChain bindings"})," \u2014 Generated by the contracts package (",(0,s.jsx)(t.code,{children:"pnpm -F contracts typechain"}),") and published under ",(0,s.jsx)(t.code,{children:"@bitcoindca/contracts"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Viem integrations"})," \u2014 The frontend relies on ",(0,s.jsx)(t.code,{children:"viem"})," + ",(0,s.jsx)(t.code,{children:"wagmi"}),". Copy the patterns from ",(0,s.jsx)(t.code,{children:"frontend/lib/wagmi.ts"})," to initialise clients."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Protocol constants"})," \u2014 Reusable enums and limits live in ",(0,s.jsx)(t.code,{children:"frontend/lib/protocol.ts"}),". Import them to keep UI and scripts aligned."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"example-estimating-the-next-execution-timestamp",children:"Example: Estimating the next execution timestamp"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="scripts/estimateNextExec.ts"',children:'import { DcaManager__factory } from "@bitcoindca/contracts/typechain";\nimport { createPublicClient, http } from "viem";\nimport { mainnet } from "viem/chains";\n\nconst client = createPublicClient({ chain: mainnet, transport: http() });\n\nasync function getNextExec(positionId: bigint) {\n  const manager = DcaManager__factory.connect(process.env.DCA_MANAGER!, client as any);\n  const nextExecAt = await manager.getNextExecutionTime(positionId);\n  return Number(nextExecAt) * 1000;\n}\n\nconsole.log(await getNextExec(42n));\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The function name is enforced by ",(0,s.jsx)(t.code,{children:"contracts/test/dcaManager.abi.spec.ts"}),", guaranteeing the snippet matches the deployed ABI."]}),"\n",(0,s.jsx)(t.h2,{id:"solidity-utilities",children:"Solidity utilities"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Libraries"})," \u2014 Check ",(0,s.jsx)(t.code,{children:"contracts/libraries"})," (e.g., ",(0,s.jsx)(t.code,{children:"ExecutionMath"}),", ",(0,s.jsx)(t.code,{children:"KeeperRewards"}),") for reusable math and reward helpers."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Mocks"})," \u2014 ",(0,s.jsx)(t.code,{children:"contracts/test/mocks/MaliciousContracts.sol"})," provides adversarial scenarios to test against when extending logic."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"hardhat-tasks",children:"Hardhat tasks"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Deployments"})," \u2014 Located under ",(0,s.jsx)(t.code,{children:"contracts/scripts"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Fixtures"})," \u2014 ",(0,s.jsx)(t.code,{children:"contracts/test/fixtures/deployments.ts"})," spins up a complete system for integration testing."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Helpers"})," \u2014 ",(0,s.jsx)(t.code,{children:"contracts/test/helpers/*"})," contains utilities (",(0,s.jsx)(t.code,{children:"expectEvents"}),", ",(0,s.jsx)(t.code,{children:"expectFunctions"}),") that double as documentation on ABI expectations."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"recommended-third-party-tooling",children:"Recommended third-party tooling"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Tenderly / Foundry"})," \u2014 For simulation and debugging complex routing behaviour."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Sentry / PostHog"})," \u2014 Frontend monitoring aligned with the Architecture doc."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Grafana / Prometheus"})," \u2014 For visualising execution metrics sourced from events."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"docs-cli",children:"Docs CLI"}),"\n",(0,s.jsxs)(t.p,{children:["The docs site includes local search via ",(0,s.jsx)(t.code,{children:"@easyops-cn/docusaurus-search-local"}),". After content updates, run:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"pnpm -F docs build\n"})}),"\n",(0,s.jsx)(t.p,{children:"This regenerates the search index and validates links. Bundle this step into your CI to catch documentation regressions early."})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},6879:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var i=n(3303);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);