---
title: SDKs & Tooling
sidebar_label: SDKs & Tools
description: Explore the developer tooling ecosystem around BitcoinDCA, including TypeScript SDK patterns, Hardhat helpers, and CLI utilities.
---

# SDKs & Tooling

BitcoinDCA does not ship a dedicated SDK package yet, but the repository exposes reusable utilities across the monorepo.

## TypeScript / JavaScript

- **TypeChain bindings** — Generated by the contracts package (`pnpm -F contracts typechain`) and published under `@bitcoindca/contracts`.
- **Viem integrations** — The frontend relies on `viem` + `wagmi`. Copy the patterns from `frontend/lib/wagmi.ts` to initialise clients.
- **Protocol constants** — Reusable enums and limits live in `frontend/lib/protocol.ts`. Import them to keep UI and scripts aligned.

### Example: Estimating the next execution timestamp

```typescript title="scripts/estimateNextExec.ts"
import { DcaManager__factory } from "@bitcoindca/contracts/typechain";
import { createPublicClient, http } from "viem";
import { mainnet } from "viem/chains";

const client = createPublicClient({ chain: mainnet, transport: http() });

async function getNextExec(positionId: bigint) {
  const manager = DcaManager__factory.connect(process.env.DCA_MANAGER!, client as any);
  const nextExecAt = await manager.getNextExecutionTime(positionId);
  return Number(nextExecAt) * 1000;
}

console.log(await getNextExec(42n));
```

The function name is enforced by `contracts/test/dcaManager.abi.spec.ts`, guaranteeing the snippet matches the deployed ABI.

## Solidity utilities

- **Libraries** — Check `contracts/libraries` (e.g., `ExecutionMath`, `KeeperRewards`) for reusable math and reward helpers.
- **Mocks** — `contracts/test/mocks/MaliciousContracts.sol` provides adversarial scenarios to test against when extending logic.

## Hardhat tasks

- **Deployments** — Located under `contracts/scripts`.  
- **Fixtures** — `contracts/test/fixtures/deployments.ts` spins up a complete system for integration testing.  
- **Helpers** — `contracts/test/helpers/*` contains utilities (`expectEvents`, `expectFunctions`) that double as documentation on ABI expectations.

## Recommended third-party tooling

- **Tenderly / Foundry** — For simulation and debugging complex routing behaviour.  
- **Sentry / PostHog** — Frontend monitoring aligned with the Architecture doc.  
- **Grafana / Prometheus** — For visualising execution metrics sourced from events.

## Docs CLI

The docs site includes local search via `@easyops-cn/docusaurus-search-local`. After content updates, run:

```bash
pnpm -F docs build
```

This regenerates the search index and validates links. Bundle this step into your CI to catch documentation regressions early.
